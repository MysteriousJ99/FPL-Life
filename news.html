<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FPL News ‚Äî Fast Premier Life</title>

  <!-- Same stylesheet as index.html -->
  <link rel="stylesheet" href="externalstylesheet.css">

  <style>
    /* ---------- Basic Header & Nav ---------- */
    .logo img { height: 40px; display: block; }
    header { display: flex; justify-content: space-between; align-items: center; padding: 12px 20px; }
    nav a { margin-right: 18px; font-weight: 500; color: inherit; text-decoration: none; }
    nav a:hover { text-decoration: underline; }
    nav a.active { border-bottom: 3px solid #38003c; font-weight: 700; }

    /* ---------- Featured images layout (updated to show solid blocks) ---------- */
    .featured-images { display:flex; gap:10px; margin-bottom:15px; align-items:stretch; }

    .featured-item {
      position:relative;
      flex: 1 1 0;
      overflow: hidden;
      border-radius:8px;
      min-height:170px;
      max-height:260px;
      display:flex;
      align-items:center;
      justify-content:center;
      transition: transform .18s ease, box-shadow .18s ease;
      background-color: #222; /* fallback solid color */
      color: #fff;
    }
    .featured-item:hover { transform: translateY(-4px); box-shadow: 0 8px 22px rgba(0,0,0,0.18); }

    /* image-wrap holds the <img> and provides a solid background while loading/fallback */
    .image-wrap{
      width:100%;
      height:100%;
      display:block;
      position:relative;
      background-repeat:no-repeat;
      background-position:center;
      background-size:cover;
    }

    .image-wrap img{
      display:block;
      width:100%;
      height:100%;
      object-fit:cover;
      opacity:0;
      transition: opacity .28s ease;
      /* explicit sizes will be set via JS attr to match index.html format */
    }

    /* when loaded, fade the image in (solid bg remains under for brief moment) */
    .image-wrap img.loaded { opacity:1; }

    /* fallback state when image fails - keep solid background and show caption clearly */
    .featured-item.fallback .image-wrap img { display:none; } /* hide broken img */
    .featured-item.fallback .featured-caption { background: rgba(0,0,0,0.65); }

    .featured-caption {
      position:absolute; left:10px; right:10px; bottom:8px; padding:6px 8px;
      background: rgba(0,0,0,0.55); color:#fff; border-radius:6px; font-size:0.95rem; backdrop-filter: blur(2px);
    }

    .featured-controls { margin-top:10px; display:flex; gap:8px; align-items:center; }
    .btn { background: #38003c; color:#fff; border:none; padding:8px 12px; border-radius:6px; cursor:pointer; font-weight:600; }
    .btn.secondary { background:#fff; color:#38003c; border:1px solid rgba(56,0,60,0.12); }

    @media (max-width:700px){ .featured-images { flex-direction: column; } .featured-item { min-height:140px; max-height:none; } }

    /* Social Share Buttons */
    .social-sharing { margin-top: 25px; display: flex; gap: 15px; flex-wrap: wrap; }
    .social-sharing button { color: #fff; border: none; border-radius: 6px; padding: 10px 16px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
    #share-facebook{ background-color:#38003c } #share-twitter{ background-color:#00a3e0 } #share-youtube{ background-color:#d81920 }

    /* Footer consistent with original (but smaller icons) */
    footer { background-color: #3eafc5; color: #fff; display: flex; justify-content: space-between; flex-wrap: wrap; align-items: center; padding: 25px 40px; font-size: 0.9em; }
    .footer-left p { margin: 0 0 10px; }
    .footer-left img, .footer-right img { width: 28px; height: 28px; object-fit:contain; margin-right: 8px; vertical-align: middle; }
    .footer-right p { margin: 0; text-align: right; }

    .featured-item:focus { outline: 3px solid rgba(56,0,60,0.12); }
  </style>
</head>

<body>

  <!-- HEADER -->
  <header>
    <div class="logo">
      <a href="index.html"><img id="siteLogo" src="images/Logo.png" alt="Website Logo"></a>
    </div>

    <nav>
      <a href="index.html">Home</a>
      <a href="news.html" class="active">News</a>
      <a href="matches.html">Matches</a>
      <a href="ClubsandPlayers.html">Clubs & Players</a>
      <a href="coach&league.html">Other Leagues/Coaches</a>
      <a href="LiveDiscussion.html">Discussion</a>
    </nav>

    <div class="header-right">
      <a href="login.html">Login</a>
      <span class="search-icon" title="Search">üîç</span>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main>
    <h1>News</h1>

    <!-- FEATURED ARTICLE -->
    <section class="featured-article" style="background-color:#f9f4ef; padding:20px; border-radius:10px;">
      <h2 id="featuredTitle">The spirit of the Premier League ‚Äî captured</h2>

      <!-- Featured images area: static curated images -->
      <div class="featured-images" id="featuredImages" aria-live="polite">
        <!-- injected by JS -->
      </div>

      <div class="featured-controls" style="justify-content:flex-end;">
        <button class="btn secondary" id="prevFeature" aria-label="Previous featured">Prev</button>
        <button class="btn" id="nextFeature" aria-label="Next featured">Next</button>
      </div>

      <h3 id="featuredSub">Iconic moments, stadium atmospheres and fan passion ‚Äî consistently present</h3>
      <p><a id="featuredAuthor" href="#">Fast Premier Life</a> curates imagery that represents the essence of the league.</p>
      <p id="featuredExcerpt">Every time you open this page you‚Äôll see iconic Premier League scenes chosen to capture the competition‚Äôs energy.</p>

      <h3>Share this page:</h3>
      <div class="social-sharing">
        <button id="share-facebook">Share on Facebook</button>
        <button id="share-twitter">Share on Twitter</button>
        <button id="share-youtube">Search on YouTube</button>
      </div>
    </section>

    <!-- ARTICLE GRID -->
    <div class="content-grid" style="display:grid; grid-template-columns:2fr 1fr; gap:30px; margin-top:30px;">
      <section class="articles" id="articleList">
        <article style="background:#fff; padding:20px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.08); margin-bottom:20px;">
          <h3>Analysis: What to expect from Postecoglou at Nottingham Forest</h3>
          <p><strong>Alex Keble</strong> analyses Australian‚Äôs tactics and the players who could thrive under his stewardship.</p>
        </article>

        <article style="background:#fff; padding:20px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.08); margin-bottom:20px;">
          <h3>Postecoglou replaces Nuno as Nottingham Forest head coach</h3>
          <p>Nottingham Forest announced the appointment of <a href="#">Ange Postecoglou</a> as head coach, following the departure of Nuno Esp√≠rito Santo.</p>
        </article>

        <article id="kitsArticle" style="background:#fff; padding:20px; border-radius:10px; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
          <h3>Premier League Club Kits for 2025/26</h3>
          <p>See every Premier League club‚Äôs new threads for the 2025/26 season. Liverpool were the last club to reveal their sea-green third kit.</p>
        </article>
      </section>

      <!-- NEWSLETTER SIDEBAR -->
      <aside class="newsletter" style="background:#f7f3ee; padding:25px; border-radius:10px; text-align:center;">
        <h4>Subscribe to Newsletter</h4>
        <button style="background:#cbb2ff; border:none; padding:10px 20px; border-radius:8px; cursor:pointer; font-weight:600;">Login</button>
      </aside>
    </div>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="footer-left">
      <p>Check out other links for the official Premier League Instagram and Twitter page:</p>
      <img id="twitterFooter" src="images/twitter page.jpg" alt="Twitter Logo" width="28" height="28">
      <img id="instagramFooter" src="images/instagram.jpg" alt="Instagram Logo" width="28" height="28">
    </div>
    <div class="footer-right">
      <p>302-555-6611</p>
      <p>wearedefintelyreal@gmail.com</p>
    </div>
  </footer>

  <!-- Script: inject solid-block featured images (width/height like index.html) -->
  <script>
    (function(){
      const featuredImagesStatic = [
        {
          id: 'ess1',
          title: 'Packed stadium ‚Äî matchday atmosphere',
          img: 'images/premier-essence-1.jpg',
          alt: 'Crowd and stadium lights on matchday',
          url: '#',
          bgColor: '#0a2a3a' // solid background while loading or if fallback
        },
        {
          id: 'ess2',
          title: 'Iconic finishing ‚Äî celebration',
          img: 'images/premier-essence-2.jpg',
          alt: 'Player celebrating a goal with teammates',
          url: '#',
          bgColor: '#6b1f1f'
        },
        {
          id: 'ess3',
          title: 'Historic stadium fa√ßade ‚Äî tradition',
          img: 'images/premier-essence-3.jpg',
          alt: 'Exterior of a classic Premier League stadium',
          url: '#',
          bgColor: '#1f3f1f'
        }
      ];

      const placeholderImg = 'images/placeholder-news.jpg';
      const footerPlaceholder = 'images/placeholder-social.jpg';
      const explicitW = '450';
      const explicitH = '350';

      const featuredImagesNode = document.getElementById('featuredImages');
      const featuredTitle = document.getElementById('featuredTitle');
      const featuredSub = document.getElementById('featuredSub');
      const featuredAuthor = document.getElementById('featuredAuthor');
      const featuredExcerpt = document.getElementById('featuredExcerpt');

      let featureIndex = 0;
      let autoRotateTimer = null;
      const ROTATE_INTERVAL = 7000;

      function createFeaturedTile(art){
        const wrapOuter = document.createElement('div');
        wrapOuter.className = 'featured-item';
        wrapOuter.setAttribute('role','link');
        wrapOuter.setAttribute('tabindex','0');
        wrapOuter.setAttribute('aria-label', art.title || 'Featured image');

        // apply solid background color (visible while loading / on fallback)
        wrapOuter.style.backgroundColor = art.bgColor || '#222';

        // image-wrap contains the image ‚Äî background-image is used as additional fallback
        const imageWrap = document.createElement('div');
        imageWrap.className = 'image-wrap';
        imageWrap.style.backgroundColor = art.bgColor || '#222';
        // small background-image fallback (in case img is blocked); don't rely on it but it's nice to have
        imageWrap.style.backgroundImage = `url('${art.img}')`;

        const img = document.createElement('img');
        img.alt = art.alt || art.title || '';
        img.loading = 'lazy';
        img.setAttribute('width', explicitW);
        img.setAttribute('height', explicitH);
        img.src = art.img; // attempt real image first

        // Ensure image hidden until loaded (so solid bg shows)
        img.className = '';

        // on load: fade in image
        img.addEventListener('load', () => {
          img.classList.add('loaded'); // CSS transition changes opacity
          wrapOuter.classList.remove('fallback');
        });

        // on error: use placeholder, but keep the solid bg so tile looks 'solid' and intentional
        img.addEventListener('error', () => {
          if(img.src !== placeholderImg){
            img.src = placeholderImg;
          } else {
            // already placeholder failed; hide img so only solid bg remains
            wrapOuter.classList.add('fallback');
          }
        });

        // click / keyboard behavior
        wrapOuter.addEventListener('click', () => {
          if(art.url && art.url !== '#') window.open(art.url, '_blank');
        });
        wrapOuter.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); wrapOuter.click(); }
        });

        // caption
        const cap = document.createElement('div');
        cap.className = 'featured-caption';
        cap.textContent = art.title || '';

        imageWrap.appendChild(img);
        wrapOuter.appendChild(imageWrap);
        wrapOuter.appendChild(cap);

        return wrapOuter;
      }

      function renderFeatured(startIndex=0){
        featuredImagesNode.innerHTML = '';
        for(let i=0;i<3;i++){
          const idx = (startIndex + i) % featuredImagesStatic.length;
          const art = featuredImagesStatic[idx];
          const tile = createFeaturedTile(art);
          featuredImagesNode.appendChild(tile);
        }
        populateMainFeatured(featuredImagesStatic[startIndex % featuredImagesStatic.length]);
      }

      function populateMainFeatured(art){
        if(!art) return;
        featuredTitle.textContent = art.title || 'Premier League';
        featuredSub.textContent = art.title || '';
        featuredAuthor.textContent = 'Fast Premier Life';
        featuredAuthor.href = art.url || '#';
        featuredExcerpt.textContent = 'Curated imagery representing the spirit and history of the Premier League.';
      }

      document.getElementById('prevFeature').addEventListener('click', ()=>{
        featureIndex = (featureIndex - 1 + featuredImagesStatic.length) % featuredImagesStatic.length;
        renderFeatured(featureIndex);
        restartAutoRotate();
      });

      document.getElementById('nextFeature').addEventListener('click', ()=>{
        featureIndex = (featureIndex + 1) % featuredImagesStatic.length;
        renderFeatured(featureIndex);
        restartAutoRotate();
      });

      function startAutoRotate(){
        stopAutoRotate();
        autoRotateTimer = setInterval(()=>{
          featureIndex = (featureIndex + 1) % featuredImagesStatic.length;
          renderFeatured(featureIndex);
        }, ROTATE_INTERVAL);
      }
      function stopAutoRotate(){ if(autoRotateTimer) clearInterval(autoRotateTimer); autoRotateTimer = null; }
      function restartAutoRotate(){ stopAutoRotate(); startAutoRotate(); }

      // share buttons
      let currentShareUrl = window.location.href;
      let currentShareTitle = document.title;
      document.getElementById("share-facebook").addEventListener("click", () => {
        const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(currentShareUrl)}`;
        window.open(facebookUrl, "_blank");
      });
      document.getElementById("share-twitter").addEventListener("click", () => {
        const twitterUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(currentShareUrl)}&text=${encodeURIComponent(currentShareTitle)}`;
        window.open(twitterUrl, "_blank");
      });
      document.getElementById("share-youtube").addEventListener("click", () => {
        const youtubeUrl = `https://www.youtube.com/results?search_query=Premier+League+${encodeURIComponent(currentShareTitle)}`;
        window.open(youtubeUrl, "_blank");
      });

      // footer images setup
      function setupFooterImages(){
        const tw = document.getElementById('twitterFooter');
        const ig = document.getElementById('instagramFooter');
        if(!tw || !ig) return;

        tw.onerror = () => { if(tw.src !== footerPlaceholder) tw.src = footerPlaceholder; };
        ig.onerror = () => { if(ig.src !== footerPlaceholder) ig.src = footerPlaceholder; };

        tw.style.width = '28px';
        tw.style.height = '28px';
        ig.style.width = '28px';
        ig.style.height = '28px';

        tw.style.cursor = 'pointer';
        ig.style.cursor = 'pointer';
        tw.addEventListener('click', ()=> window.open('https://x.com/premierleague', '_blank'));
        ig.addEventListener('click', ()=> window.open('https://www.instagram.com/premierleague/', '_blank'));
      }

      // initial render
      renderFeatured(0);
      startAutoRotate();
      setupFooterImages();

      // accessibility: pause rotation while focused
      const featuredImagesNodeRef = document.getElementById('featuredImages');
      featuredImagesNodeRef.addEventListener('focusin', stopAutoRotate);
      featuredImagesNodeRef.addEventListener('focusout', restartAutoRotate);
    })();
  </script>

</body>
</html>


